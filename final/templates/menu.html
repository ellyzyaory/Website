{% extends "base.html" %}
{% load static %}
{% block content %}

<div class = 'row'>
        {% for product in products %}
            <div class = 'col-sm-3'>
            <div class = "thumbnail">
                {% if product.productimage_set.all %}
                    {% for item in product.productimage_set.all %}
                        {% if item.featured %}
                            <div style = 
                            "width:160px;
                            height:160px;
                            background-image:url('{{ MEDIA_URL }}{{ item.image }}');
                            background-repeat:no-repeat;
                            background-size:cover;
                            background-position:center;
                            margin:0 auto;">

                            </div>
                    {% endif %}
                    {% endfor %}
                    
                {% else %}
                    <img class='img-responsive' src='{% static "img/placeholder.svg" %}'/>
                {% endif %}

            <div class = "caption">
                <a href='{{ product.get_absolute_url }}'><h3>{{ product.title }}</h3></a>
                <p>{{ product.description|truncatewords:15}}</p>
                <p><a href="{{ product.get_absolute_url }}" class = "btn btn-primary" role = "button">View</a><a href="#" class = "btn btn-default" role = "button">Button</a></p>
            </div>
        </div>


        </div>
            {% cycle "" "" "" "</div></div><div class = 'row'>" %}
                
        {% endfor %}
</div>

{% endblock content %}
