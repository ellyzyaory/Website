{% extends "base.html" %}
{% load static %}

{% block jumbotron %}
<div class = "container">
    <!--Carousel-->
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="..." alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="..." alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="..." alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
</div>
{% endblock jumbotron %}

{% block content %}

<div class = 'row'>
        {% for product in products %}
            <div class = 'col-sm-3'>
            <div class = "thumbnail">
                {% if product.productimage_set.all %}
                    {% for item in product.productimage_set.all %}
                        {% if item.featured %}
                            <div style = 
                            "width:160px;
                            height:160px;
                            background-image:url('{{ MEDIA_URL }}{{ item.image }}');
                            background-repeat:no-repeat;
                            background-size:cover;
                            background-position:center;
                            margin:0 auto;">

                            </div>
                    <!--<img class = 'img-responsive' src = "{{ MEDIA_URL }}{{ item.image }}" />-->
                    {% endif %}
                    {% endfor %}
                    
                {% else %}
                    <img class='img-responsive' src='{% static "img/placeholder.svg" %}'/>
                {% endif %}

            <div class = "caption">
                <a href='{{ product.get_absolute_url }}'><h3>{{ product.title }}</h3></a>
                <p>{{ product.description|truncatewords:15}}</p>
                <p><a href="{{ product.get_absolute_url }}" class = "btn btn-primary" role = "button">View</a><a href="#" class = "btn btn-default" role = "button">Button</a></p>
            </div>
        </div>


        </div>
            {% cycle "" "" "" "</div></div><div class = 'row'>" %}
                
        {% endfor %}
</div>

{% endblock content %}




